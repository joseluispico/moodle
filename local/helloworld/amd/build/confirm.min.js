define ("local_helloworld/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,f,g){var h=a(".local_message_delete_button");b.create({type:b.types.SAVE_CANCEL,title:c.get_string("delete_message","local_helloworld"),body:c.get_string("delete_message_confirm","local_helloworld"),preShowCallback:function preShowCallback(b,d){b=a(b);var e=b[0].classList[0],f=e.substr(e.lastIndexOf("local.messageid")+15);d.params={messageid:f};d.setSaveButtonText(c.get_string("delete_message","local_helloworld"))},large:!0},h).done(function(a){a.getRoot().on(d.save,function(b){b.preventDefault();var d=Y.one(".modal-footer");d.setContent("Deleting..");var e=M.util.add_spinner(Y,d);e.show();var h={methodname:"local_helloworld_delete_message",args:a.params};f.call([h])[0].done(function(a){if(!0===a){window.location.reload()}else{g.addNotification({message:c.get_string("delete_message_failed","local_helloworld"),type:"error"})}}).fail(g.exception)})})});
//# sourceMappingURL=confirm.min.js.map
